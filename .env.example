# =============================================================================
# IEP Copilot - Environment Variables
# =============================================================================
# FOR LOCAL DEVELOPMENT:
# 1. Copy this to .env.local
# 2. Fill in the REQUIRED variables
#
# FOR VERCEL DEPLOYMENT:
# 1. Configure these in Vercel dashboard under Environment Variables
# 2. Use this file as a reference for what's needed

# -----------------------------------------------------------------------------
# REQUIRED VARIABLES (Must configure these)
# -----------------------------------------------------------------------------
## DEV
NEXT_PUBLIC_SUPABASE_URL=https://your-project-ref.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key-here

## PROD
NEXT_PUBLIC_SUPABASE_URL=https://your-prod-project-ref.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-prod-supabase-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-prod-supabase-service-role-key-here

GCP_PROJECT_ID=your-gcp-project-id
DOCAI_LOCATION=us  # or 'eu'
DOCAI_PROCESSOR_ID=your-docai-processor-id

ANTHROPIC_API_KEY=sk-ant-api03-your-anthropic-api-key

## PREVIEW
INNGEST_EVENT_KEY=iep-your-inngest-event-key
INNGEST_SIGNING_KEY=signkey-branch-your-inngest-signing-key

## PROD
INNGEST_EVENT_KEY=iep-your-prod-inngest-event-key
INNGEST_SIGNING_KEY=signkey-prod-your-inngest-signing-key

# -----------------------------------------------------------------------------
# GCP AUTHENTICATION (Choose ONE method - in order of preference)
# -----------------------------------------------------------------------------

# OPTION 1 (BEST): Vercel OIDC - No credentials needed!
# See: https://vercel.com/docs/security/secure-backend-access/oidc/gcp
# Requires GCP Workload Identity Pool setup, then set these:
# GOOGLE_CLOUD_PROJECT_NUMBER=123456789
# GOOGLE_CLOUD_SERVICE_ACCOUNT_EMAIL=sa@project.iam.gserviceaccount.com
# GOOGLE_CLOUD_WORKLOAD_POOL_ID=vercel-pool
# GOOGLE_CLOUD_WORKLOAD_PROVIDER_ID=vercel

# OPTION 2 (RECOMMENDED): Base64-encoded service account key
# Generate with: cat service-account.json | base64
# This avoids all newline/escape issues in Vercel env vars
# GCP_SERVICE_ACCOUNT_KEY_BASE64=eyJ0eXBlIjoic2VydmljZV9hY2NvdW50Ii...

# OPTION 3: Plain JSON service account key (may have escape issues)
# GCP_SERVICE_ACCOUNT_KEY={"type":"service_account",...}

# OPTION 4: Local dev only - path to credentials file
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/credentials.json

# -----------------------------------------------------------------------------
# OPTIONAL VARIABLES (Leave commented unless needed)
# -----------------------------------------------------------------------------
# For type generation (optional)
# SUPABASE_PROJECT_ID=your-project-id

# Anthropic model (optional, defaults to claude-sonnet-4-20250514)
# ANTHROPIC_MODEL=claude-sonnet-4-20250514

# App URLs (optional, defaults to localhost:3000)
# NEXT_PUBLIC_APP_URL=http://localhost:3000

# Feature flags (optional)
# ENABLE_SERVER_PDF_RENDER=false

# Fuzzy verification (RECOMMENDED: true for better citation accuracy with OCR documents)
ENABLE_FUZZY_VERIFICATION=true

# -----------------------------------------------------------------------------
# SENTRY ERROR TRACKING (Optional but recommended for production)
# -----------------------------------------------------------------------------
# Get your DSN from https://sentry.io -> Project Settings -> Client Keys (DSN)
# NEXT_PUBLIC_SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# For source map uploads (optional)
# SENTRY_ORG=your-sentry-org
# SENTRY_PROJECT=iep-copilot
# SENTRY_AUTH_TOKEN=your-sentry-auth-token
